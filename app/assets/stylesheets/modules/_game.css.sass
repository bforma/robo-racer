$border: 2px solid gray

.mod-game
  .viewport
    width: 1024px
    height: 768px
    margin-bottom: 40px
    border: $border
    border-color: red
    overflow-y: scroll

  .body
    width: 100%
    display: table
    overflow: hidden

  .left,
  .right
    position: relative
    display: table-cell
    vertical-align: top

  .left
    width: 200px
    border-right: $border
    background: rgba(black,.1)

  .right
    background: rgba(green,.1)

  header
    height: 64px
    border-bottom: $border

    div
      float: left
      width: 33.3333%
      padding: 0 20px
      line-height: 64px

    .round
      background: rgba(blue,.1)
      border-right: $border

    .status
      background: rgba(yellow,.2)
      border-right: $border

    .current_event
      background: rgba(orange,.1)

  .opponents
    > li
      @extend %clearfix
      position: relative
      height: 100px
      padding: 15px
      border-bottom: $border

      &:last-child
        border-bottom: none

    .status
      position: absolute
      top: 10px
      right: 10px
      width: 20px
      height: 20px

      &.pending
        background: transparent image-url("loading.gif") no-repeat center
        background-size: 100%

      &.programmed
        background: transparent image-url("tick.png") no-repeat center
        background-size: 110%

    .slots
      width: 100%
      float: left

    .slot
      width: 20%
      float: left

      [class^="card"]
        display: block
        float: left
        width: 90%
        height: 30px
        text-align: center
        line-height: 30px
        border: $border
        border-radius: 3px

      [class^="card_M"]
        background: rgba(green,.2)

      [class^="card_R"]
        background: rgba(blue,.2)

  .table
    @extend %clearfix
    padding: 40px

  .board
    position: relative
    float: left
    width: 482px
    height: 482px
    border: $border
    border-width: 1px
    background: rgba(black,.3)
    //box-shadow: 0 0 0 40px rgba(black,.7)
    //margin-right: 30px

    .row
      @extend %clearfix
      height: 40px

    b
      display: block
      float: left
      width: 40px
      height: 40px
      border: $border

    .robot, .spawn, .checkpoint
      position: absolute
      left: 0
      top: 0
      width: 40px
      height: 40px
      font-size: 120%
      text-align: center
      line-height: 40px
      transition: all 1s
      -webkit-transition: all 1s

      @each $position in 0,1,2,3,4,5,6,7,8,9,10,11
        &.x_#{$position}
          left: ($position * 40) * 1px

      @each $position in 0,1,2,3,4,5,6,7,8,9,10,11
        &.y_#{$position}
          top: ($position * 40) * 1px

      $facings: 0 90 180 270
      @each $facing in $facings
        &.face_#{$facing}
          transform: rotate($facing * 1deg)
          -webkit-transform: rotate($facing + 180 * 1deg)

    .robot
      border-bottom: 2px solid black
      border-radius: 0 0 25px 25px

      @each $color in red, yellow, orange, pink, green, brown, grey, lightblue
        &.#{$color}
          background: $color

    .spawn
      @each $color in red, yellow, orange, pink, green, brown, grey, lightblue
        &.#{$color}
          border: 2px solid $color

    .checkpoint
      background-color: green

  .hand
    position: relative
    float: right
    width: 258px
    padding: 0 0 0 40px

    li
      float: left

    .instruction_card
      margin: 0 10px 10px 0
      cursor: move

  .instruction_card
    width: 60px
    height: 100px
    padding: 5px
    border: 1px solid black
    background-color: white

  .register
    float: left
    width: 72px
    height: 112px
    padding: 5px
    margin-right: 10px
    border: 1px dashed black
    list-style-type: none

    .instruction_card
      cursor: pointer

  .program
    position: relative
    height: 138px
    padding: 14px
    background: rgba(blue,.5)

  footer
    a
      display: block
      margin-bottom: 20px

