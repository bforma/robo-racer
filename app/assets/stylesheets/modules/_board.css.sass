.mod-board
  position: relative
  top: 250px
  left: 150px
  max-height: 100%
  max-width: 100%
  -webkit-transform: rotateX(60deg) rotateZ(45deg)
  -webkit-transform-style: preserve-3d

  %relative
    position: relative

  @for $position from 0 through $max_x
    .x#{$position}
      @extend %relative
      left: ($position * $size)

  @for $position from 0 through $max_y
    .y#{$position}
      @extend %relative
      top: ($position * $size)

  floor
    position: absolute
    display: inline
    @include block($tile, $tile, $floor)
    @include block_color(rgba(0, 228, 228, 1), 10%)

    .top
      border-left: $tile/2 solid transparent
      border-right: $tile/2 solid transparent
      border-top: $robot-size solid grey

  wall-top, wall-left
    @include block_color(white, 10%)

  wall-top
    @include block($wall, $size - $wall, $height)
    top: - $wall

  wall-left
    @include block($size - $wall, $wall, $height)
    left: - $wall

  goal
    @include block($tile, $tile, $floor * 2)
    @include block_color(rgba(255, 255, 255, 0.3), 0)

    -webkit-transform: translateZ($floor * 3)
    box-shadow: inset 0 0 0 $tile/6 rgba(255, 255, 255, 0.4)

    &.current
      @include block_color(rgba(0, 255, 0, 0.7), 0)

  @for $i from 0 through $goals
    .goal#{$i}
      @extend %goal
